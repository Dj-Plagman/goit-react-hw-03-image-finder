{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGallery/ImageGallery.module.css","component/Button/Button.module.css","component/Search/Searchbar.js","api/pixabayApi.js","component/ImageGallery/ImageGalleryItem.js","component/Modal/Modal.js","component/ImageGallery/ImageGallery.js","component/Button/Button.js","component/Notification/Notifications.js","App.js","index.js","component/Search/Searchbar.module.css","component/ImageGallery/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","sbs","SearchForm","input","type","autoComplete","autoFocus","placeholder","onChange","name","button","button_label","Component","fetchImages","searchQuery","page","url","fetch","then","response","json","hits","ImageGalleryItem","elem","getImgForModal","webformatURL","tags","gis","src","alt","image","onClick","Modal","closeModal","target","nodeName","code","hideModal","window","addEventListener","removeEventListener","ms","Overlay","children","ImageGallery","showModal","toggleModal","gallery","largeImageURL","igs","map","item","id","Button","getNewPage","bs","Notifications","fetchLength","galleryLength","error","defaultProps","App","isLoading","getQueryByForm","setNewPage","prevState","fetchImagesByQuery","prevProps","result","length","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b04002bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2ctf-\",\"Modal\":\"Modal_Modal__2dJ0S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2QD2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2nz-W\"};","import React, { Component } from 'react';\r\nimport sbs from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n    this.props.onSubmit({ query });\r\n    this.setState({ query: '' });\r\n  };\r\n  render() {\r\n    const { query } = this.state;\r\n    // console.log(query);\r\n    return (\r\n      <header className={sbs.Searchbar}>\r\n        <form className={sbs.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={sbs.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n            name=\"query\"\r\n            value={query}\r\n          />\r\n          <button type=\"submit\" className={sbs.button}>\r\n            <span className={sbs.button_label}>Search</span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;","const apiKey = '19851067-7c860a6e23d51e90a164e5364';\r\n\r\nfunction fetchImages(searchQuery, page) {\r\n  // console.log(searchQuery);\r\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\r\n\r\n  return fetch(url)\r\n    .then(response => {\r\n      // console.log(response);\r\n      return response.json();\r\n    })\r\n    .then(({ hits }) => {\r\n      // console.log({ hits });\r\n      return hits;\r\n    });\r\n}\r\n\r\nexport default fetchImages;","import React from 'react';\r\nimport gis from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ elem, getImgForModal }) => {\r\n  const { webformatURL, tags } = elem;\r\n  return (\r\n    <li className={gis.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={gis.image}\r\n        onClick={() => getImgForModal({ elem })}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  elem: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  getImgForModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;","import React, { Component } from 'react';\r\nimport ms from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModal);\r\n  }\r\n\r\n  closeModal = e => {\r\n    if (e.target.nodeName !== 'IMG' || e.code === 'Escape') {\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={ms.Overlay} onClick={this.closeModal}>\r\n        <div className={ms.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  hideModal: PropTypes.func.isRequired,\r\n};\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport igs from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    elem: '',\r\n    showModal: false,\r\n  };\r\n  toggleModal = () => {\r\n    this.setState({\r\n      showModal: !this.state.showModal,\r\n    });\r\n  };\r\n  getImgForModal = ({ elem }) => {\r\n    if (elem) {\r\n      this.toggleModal();\r\n      this.setState({\r\n        elem,\r\n      });\r\n    }\r\n  };\r\n  render() {\r\n    const { showModal, elem } = this.state;\r\n    const { gallery } = this.props;\r\n    const { tags, largeImageURL } = elem;\r\n    return (\r\n      <ul className={igs.ImageGallery}>\r\n        {gallery.map(item => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={item.id}\r\n              elem={item}\r\n              getImgForModal={this.getImgForModal}\r\n            />\r\n          );\r\n        })}\r\n        {showModal && (\r\n          <Modal hideModal={this.toggleModal}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\nexport default ImageGallery;","import React from 'react';\r\nimport bs from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ getNewPage }) => {\r\n  // console.log(getNewPage);\r\n  return (\r\n    <button\r\n      className={bs.Button}\r\n      type=\"button\"\r\n      data-action=\"load-more\"\r\n      // disabled={true}\r\n      onClick={getNewPage}\r\n    >\r\n      Show more\r\n    </button>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  getNewPage: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Notifications = ({ fetchLength, galleryLength, searchQuery, error }) => {\r\n  if (error) {\r\n    return <p>Oops! Something wrong! Request error!</p>;\r\n  } else if (!error) {\r\n    if (!searchQuery) {\r\n      return <p>Please enter a subject for the image!</p>;\r\n    } else if (searchQuery) {\r\n      if (!fetchLength && !galleryLength) {\r\n        return <p>Image not found. Please check your request and try again!</p>;\r\n      } else if (fetchLength < 12 && galleryLength > 0) {\r\n        return <p>These are all the images we found!</p>;\r\n      }\r\n    }\r\n  }\r\n\r\n  return <p></p>;\r\n};\r\nNotifications.defaultProps = {\r\n  fetchLength: 0,\r\n  galleryLength: 0,\r\n  searchQuery: '',\r\n  error: false,\r\n};\r\nNotifications.propTypes = {\r\n  fetchLength: PropTypes.number,\r\n  galleryLength: PropTypes.number,\r\n  searchQuery: PropTypes.string,\r\n  error: PropTypes.bool,\r\n};\r\nexport default Notifications;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport Searchbar from './component/Search/Searchbar';\r\nimport fetchImages from './api/pixabayApi';\r\nimport ImageGallery from './component/ImageGallery/ImageGallery';\r\nimport Button from './component/Button/Button';\r\nimport Notifications from './component/Notification/Notifications';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    page: 1,\r\n    gallery: [],\r\n    fetchLength: null,\r\n    isLoading: false,\r\n    error: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    const { query, page } = this.state;\r\n    if (query !== prevState.query && query !== '') {\r\n      this.fetchImagesByQuery(query);\r\n    } else if (query === prevState.query && page !== prevState.page) {\r\n      this.fetchImagesByQuery(query);\r\n    }\r\n  }\r\n\r\n  getQueryByForm = ({ query }) => {\r\n    this.setState({ query: '', page: 1, gallery: [], fetchLength: 0 });\r\n    this.setState({ query: query, page: 1, gallery: [] });\r\n  };\r\n\r\n  setNewPage = e => {\r\n    e.preventDefault();\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  fetchImagesByQuery = (prevProps, prevState) => {\r\n    const { query, page } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n    fetchImages(query, page)\r\n      .then(result => {\r\n        this.setState(prevState => ({\r\n          gallery: [...prevState.gallery, ...result],\r\n          fetchLength: result.length,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error: true });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n    // }\r\n  };\r\n  render() {\r\n    const { gallery, fetchLength, isLoading, query, error } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>HD Gallery</h1>\r\n        <Searchbar onSubmit={this.getQueryByForm} />\r\n        <ImageGallery gallery={gallery} />\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        {fetchLength === 12 && !isLoading && (\r\n          <Button getNewPage={this.setNewPage} />\r\n        )}\r\n\r\n        <Notifications\r\n          fetchLength={fetchLength}\r\n          galleryLength={gallery.length}\r\n          searchQuery={query}\r\n          error={error}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3s9SE\",\"SearchForm\":\"Searchbar_SearchForm__1yQmV\",\"button\":\"Searchbar_button__3tlqn\",\"button_label\":\"Searchbar_button_label__22P2B\",\"input\":\"Searchbar_input__1iSt-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1QtTn\",\"image\":\"ImageGalleryItem_image__3MjG8\"};"],"sourceRoot":""}